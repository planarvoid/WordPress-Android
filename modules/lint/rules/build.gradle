buildscript {
  dependencies {
    classpath gradlePlugins.apt
    classpath gradlePlugins.memento
    classpath gradlePlugins.retrolambda
  }
}

apply from: "$rootProject.projectDir/buildsystem/java8-library.gradle"
apply plugin: 'me.tatarka.retrolambda'
apply plugin: 'com.soundcloud.memento'
apply plugin: 'net.ltgt.apt'

retrolambda {
  // Shush Retrolambda... Don't log so much in Java projects, please
  jvmArgs '-Dretrolambda.quiet=true'
}

configurations {
  lintChecks
}

def libraries = rootProject.ext.libraries
def unitTestLibraries = rootProject.ext.unitTestLibraries

dependencies {
  apt libraries.mementoCompiler
  compileOnly libraries.mementoAnnotation
  compile libraries.lintApi
  compile libraries.lintChecks

  testCompile unitTestLibraries.lint
  testCompile unitTestLibraries.lintTests
  testCompile unitTestLibraries.assertj
  testCompile unitTestLibraries.junit

  lintChecks files(jar)
}

sourceSets {
  main.resources.srcDir 'src/main/java'
  test.resources.srcDir 'src/test/java'
}
