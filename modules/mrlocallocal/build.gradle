buildscript {
  dependencies {
    classpath gradlePlugins.retrolambda
  }
}

apply from: "$rootProject.projectDir/buildsystem/android-library.gradle"
apply plugin: 'kotlin-android'
apply plugin: 'me.tatarka.retrolambda'

dependencies {
  annotationProcessor libraries.autoValue
  provided libraries.autoValue
  provided libraries.androidKit

  compile libraries.kotlinStdLib
  compile libraries.jacksonAnnotations
  compile libraries.jacksonDataBind
  compile libraries.jacksonCore
  compile libraries.jacksonYaml

  compile(acceptanceTestLibraries.wiremock) {
    exclude group: 'org.apache.httpcomponents', module: 'httpclient'
    exclude group: 'asm', module: 'asm'
    exclude group: 'org.ow2.asm'
    exclude group: 'org.json', module: 'json'
    exclude group: 'com.fasterxml.jackson.core', module: 'jackson-core'
    exclude group: 'com.fasterxml.jackson.core', module: 'jackson-annotations'
    exclude group: 'com.fasterxml.jackson.core', module: 'jackson-databind'
    exclude group: 'org.hamcrest', module: 'hamcrest-core'
  }
  compile acceptanceTestLibraries.httpComponents // needed for wiremock

  testCompile unitTestLibraries.junit
  testCompile unitTestLibraries.assertj
  testCompile unitTestLibraries.mockito
}
