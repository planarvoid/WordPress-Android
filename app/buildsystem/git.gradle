task commitVersionBump(type: Exec, dependsOn: ['updateVersion']) {
  description = 'Commits/Pushes versionCode and versionName bump to Github.'
  def message = "\'VersionCode bumped to: $project.ext.versionCode\'"
  commandLine 'git', 'commit', '-a', '-m', message
}
commitVersionBump.finalizedBy('gitPush')

task gitPush(type: Exec, dependsOn: ['gitPull']) {
  description = 'Pushes any staged commits to github repo specifed by GIT_BRANCH environment variable.'
  commandLine 'git', 'push', 'origin', project.ext.gitBranch
}

task gitPull(type: Exec) {
  description = 'Checkout most recent files from github repo specifed by GIT_BRANCH environment variable.'
  commandLine 'git', 'pull', '--rebase', 'origin', project.ext.gitBranch
}
