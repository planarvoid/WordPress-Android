apply plugin: 'com.android.application'

def BOOLEAN = "boolean"
def TRUE = "true"
def FALSE = "false"

//Feature flags
def FEATURE_PAYMENTS_TEST = "FEATURE_PAYMENTS_TEST"
def FEATURE_OFFLINE_SYNC = "FEATURE_OFFLINE_SYNC"
def FEATURE_OFFLINE_SYNC_COLLECTION = "FEATURE_OFFLINE_SYNC_COLLECTION"
def FEATURE_PLAY_RELATED_TRACKS = "FEATURE_PLAY_RELATED_TRACKS"
def FEATURE_STATIONS_SOFT_LAUNCH = "FEATURE_STATIONS_SOFT_LAUNCH"
def FEATURE_STATIONS_HOME = "FEATURE_STATIONS_HOME"
def FEATURE_EVENTLOGGER_AUDIO_V1 = "FEATURE_EVENTLOGGER_AUDIO_V1"
def FEATURE_KILL_CONCURRENT_STREAMING = "FEATURE_KILL_CONCURRENT_STREAMING"
def FEATURE_PUBLISH_PLAY_EVENTS_TO_TPUB = "FEATURE_PUBLISH_PLAY_EVENTS_TO_TPUB"
def FEATURE_DAILY_POLICY_UPDATES = "FEATURE_DAILY_POLICY_UPDATES"
def FEATURE_NEW_STREAM = "FEATURE_NEW_STREAM"
def FEATURE_VIDEO_ADS = "FEATURE_VIDEO_ADS"
def FEATURE_PRELOAD_NEXT_TRACK = "FEATURE_PRELOAD_NEXT_TRACK"
def FEATURE_WAVEFORM_SPRING = "FEATURE_WAVEFORM_SPRING"
def FEATURE_TRACK_SYNC_APIMOBILE = "FEATURE_TRACK_SYNC_APIMOBILE"
def FEATURE_DISCOVERY_RECOMMENDATIONS = "FEATURE_DISCOVERY_RECOMMENDATIONS"
def FEATURE_DISCOVERY_CHARTS = "FEATURE_DISCOVERY_CHARTS"
def FEATURE_DELETE_PLAYLIST = "FEATURE_DELETE_PLAYLIST"
def FEATURE_PROFILE_NEW_TABS = "FEATURE_PROFILE_NEW_TABS"

android {
  buildTypes {
    alpha {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, TRUE
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE // Enabled only if FEATURE_STATIONS_SOFT_LAUNCH is FALSE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, TRUE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, TRUE
      buildConfigField BOOLEAN, FEATURE_NEW_STREAM, TRUE
      buildConfigField BOOLEAN, FEATURE_PRELOAD_NEXT_TRACK, TRUE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_RECOMMENDATIONS, TRUE
      buildConfigField BOOLEAN, FEATURE_TRACK_SYNC_APIMOBILE, TRUE
      buildConfigField BOOLEAN, FEATURE_STATIONS_SOFT_LAUNCH, TRUE
      buildConfigField BOOLEAN, FEATURE_DELETE_PLAYLIST, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS_HOME, FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, FALSE
      buildConfigField BOOLEAN, FEATURE_PUBLISH_PLAY_EVENTS_TO_TPUB, FALSE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_CHARTS, FALSE
      buildConfigField BOOLEAN, FEATURE_VIDEO_ADS, FALSE
      buildConfigField BOOLEAN, FEATURE_WAVEFORM_SPRING, FALSE
      buildConfigField BOOLEAN, FEATURE_PROFILE_NEW_TABS, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC_COLLECTION, FALSE
    }

    beta {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE // Enabled only if FEATURE_STATIONS_SOFT_LAUNCH is FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, TRUE
      buildConfigField BOOLEAN, FEATURE_PUBLISH_PLAY_EVENTS_TO_TPUB, TRUE
      buildConfigField BOOLEAN, FEATURE_NEW_STREAM, TRUE
      buildConfigField BOOLEAN, FEATURE_PRELOAD_NEXT_TRACK, TRUE
      buildConfigField BOOLEAN, FEATURE_TRACK_SYNC_APIMOBILE, TRUE
      buildConfigField BOOLEAN, FEATURE_DELETE_PLAYLIST, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC_COLLECTION, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS_SOFT_LAUNCH, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS_HOME, FALSE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, FALSE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, FALSE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_RECOMMENDATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_CHARTS, FALSE
      buildConfigField BOOLEAN, FEATURE_VIDEO_ADS, FALSE
      buildConfigField BOOLEAN, FEATURE_WAVEFORM_SPRING, FALSE
      buildConfigField BOOLEAN, FEATURE_DELETE_PLAYLIST, FALSE
      buildConfigField BOOLEAN, FEATURE_TRACK_SYNC_APIMOBILE, FALSE
      buildConfigField BOOLEAN, FEATURE_PROFILE_NEW_TABS, FALSE
    }

    debug {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, TRUE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC_COLLECTION, TRUE
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE // Enabled only if FEATURE_STATIONS_SOFT_LAUNCH is FALSE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, TRUE
      buildConfigField BOOLEAN, FEATURE_STATIONS_SOFT_LAUNCH, TRUE
      buildConfigField BOOLEAN, FEATURE_STATIONS_HOME, TRUE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, TRUE
      buildConfigField BOOLEAN, FEATURE_NEW_STREAM, TRUE
      buildConfigField BOOLEAN, FEATURE_PRELOAD_NEXT_TRACK, TRUE
      buildConfigField BOOLEAN, FEATURE_TRACK_SYNC_APIMOBILE, TRUE
      buildConfigField BOOLEAN, FEATURE_DELETE_PLAYLIST, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, FALSE
      buildConfigField BOOLEAN, FEATURE_PUBLISH_PLAY_EVENTS_TO_TPUB, FALSE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_RECOMMENDATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_CHARTS, FALSE
      buildConfigField BOOLEAN, FEATURE_VIDEO_ADS, FALSE
      buildConfigField BOOLEAN, FEATURE_WAVEFORM_SPRING, FALSE
      buildConfigField BOOLEAN, FEATURE_PROFILE_NEW_TABS, FALSE
    }

    end2end {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, TRUE
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE // Enabled only if FEATURE_STATIONS_SOFT_LAUNCH is FALSE
      buildConfigField BOOLEAN, FEATURE_NEW_STREAM, TRUE
      buildConfigField BOOLEAN, FEATURE_PRELOAD_NEXT_TRACK, TRUE
      buildConfigField BOOLEAN, FEATURE_TRACK_SYNC_APIMOBILE, TRUE
      buildConfigField BOOLEAN, FEATURE_DELETE_PLAYLIST, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC_COLLECTION, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS_SOFT_LAUNCH, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS_HOME, FALSE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, FALSE
      buildConfigField BOOLEAN, FEATURE_PUBLISH_PLAY_EVENTS_TO_TPUB, FALSE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, FALSE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_RECOMMENDATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_CHARTS, FALSE
      buildConfigField BOOLEAN, FEATURE_VIDEO_ADS, FALSE
      buildConfigField BOOLEAN, FEATURE_WAVEFORM_SPRING, FALSE
      buildConfigField BOOLEAN, FEATURE_PROFILE_NEW_TABS, FALSE
    }

    release {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE // Enabled only if FEATURE_STATIONS_SOFT_LAUNCH is FALSE
      buildConfigField BOOLEAN, FEATURE_NEW_STREAM, TRUE
      buildConfigField BOOLEAN, FEATURE_PRELOAD_NEXT_TRACK, TRUE
      buildConfigField BOOLEAN, FEATURE_DELETE_PLAYLIST, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC_COLLECTION, FALSE
      // When turning this on, make sure the ci does not exclude tests annotated with @StationsTest
      buildConfigField BOOLEAN, FEATURE_STATIONS_SOFT_LAUNCH, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS_HOME, FALSE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, FALSE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, FALSE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_RECOMMENDATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_CHARTS, FALSE
      buildConfigField BOOLEAN, FEATURE_VIDEO_ADS, FALSE
      buildConfigField BOOLEAN, FEATURE_PUBLISH_PLAY_EVENTS_TO_TPUB, FALSE
      buildConfigField BOOLEAN, FEATURE_WAVEFORM_SPRING, FALSE
      buildConfigField BOOLEAN, FEATURE_TRACK_SYNC_APIMOBILE, FALSE
      buildConfigField BOOLEAN, FEATURE_PROFILE_NEW_TABS, FALSE
    }

    releaseNoProguard {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE // Enabled only if FEATURE_STATIONS_SOFT_LAUNCH is FALSE
      buildConfigField BOOLEAN, FEATURE_NEW_STREAM, TRUE
      buildConfigField BOOLEAN, FEATURE_PRELOAD_NEXT_TRACK, TRUE
      buildConfigField BOOLEAN, FEATURE_DELETE_PLAYLIST, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC_COLLECTION, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS_SOFT_LAUNCH, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS_HOME, FALSE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, FALSE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, FALSE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_RECOMMENDATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_CHARTS, FALSE
      buildConfigField BOOLEAN, FEATURE_VIDEO_ADS, FALSE
      buildConfigField BOOLEAN, FEATURE_PUBLISH_PLAY_EVENTS_TO_TPUB, FALSE
      buildConfigField BOOLEAN, FEATURE_WAVEFORM_SPRING, FALSE
      buildConfigField BOOLEAN, FEATURE_TRACK_SYNC_APIMOBILE, FALSE
      buildConfigField BOOLEAN, FEATURE_PROFILE_NEW_TABS, FALSE
    }

    release_non_play_store {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE // Enabled only if FEATURE_STATIONS_SOFT_LAUNCH is FALSE
      buildConfigField BOOLEAN, FEATURE_NEW_STREAM, TRUE
      buildConfigField BOOLEAN, FEATURE_PRELOAD_NEXT_TRACK, TRUE
      buildConfigField BOOLEAN, FEATURE_DELETE_PLAYLIST, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC_COLLECTION, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS_SOFT_LAUNCH, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS_HOME, FALSE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, FALSE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, FALSE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_RECOMMENDATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_DISCOVERY_CHARTS, FALSE
      buildConfigField BOOLEAN, FEATURE_VIDEO_ADS, FALSE
      buildConfigField BOOLEAN, FEATURE_PUBLISH_PLAY_EVENTS_TO_TPUB, FALSE
      buildConfigField BOOLEAN, FEATURE_WAVEFORM_SPRING, FALSE
      buildConfigField BOOLEAN, FEATURE_TRACK_SYNC_APIMOBILE, FALSE
      buildConfigField BOOLEAN, FEATURE_PROFILE_NEW_TABS, FALSE
    }
  }
}
