apply plugin: 'com.android.application'

def BOOLEAN = "boolean"
def TRUE = "true"
def FALSE = "false"

//Feature flags
def FEATURE_PAYMENTS_TEST = "FEATURE_PAYMENTS_TEST"
def FEATURE_OFFLINE_SYNC = "FEATURE_OFFLINE_SYNC"
def FEATURE_NEW_PROFILE = "FEATURE_NEW_PROFILE"
def FEATURE_FOLLOW_USER_SEARCH = "FEATURE_FOLLOW_USER_SEARCH"
def FEATURE_PLAY_RELATED_TRACKS = "FEATURE_PLAY_RELATED_TRACKS"
def FEATURE_STATIONS = "FEATURE_STATIONS"
def FEATURE_RECOMMENDATIONS = "FEATURE_RECOMMENDATIONS"
def FEATURE_EVENTLOGGER_AUDIO_V1 = "FEATURE_EVENTLOGGER_AUDIO_V1"
def FEATURE_RECOMMENDED_PLAYER_CONTEXT = "FEATURE_RECOMMENDED_PLAYER_CONTEXT"
def FEATURE_KILL_CONCURRENT_STREAMING = "FEATURE_KILL_CONCURRENT_STREAMING"
def FEATURE_COLLECTIONS = "FEATURE_COLLECTIONS"
def FEATURE_APPBOY = "FEATURE_APPBOY"
def FEATURE_DAILY_POLICY_UPDATES = "FEATURE_DAILY_POLICY_UPDATES"

android {
  buildTypes {
    alpha {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, TRUE
      buildConfigField BOOLEAN, FEATURE_FOLLOW_USER_SEARCH, TRUE
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, TRUE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDATIONS, TRUE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, TRUE
      buildConfigField BOOLEAN, FEATURE_APPBOY, TRUE
      buildConfigField BOOLEAN, FEATURE_COLLECTIONS, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, FALSE
      buildConfigField BOOLEAN, FEATURE_NEW_PROFILE, TRUE
      buildConfigField BOOLEAN, FEATURE_STATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDED_PLAYER_CONTEXT, FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, FALSE
    }

    beta {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, FALSE
      buildConfigField BOOLEAN, FEATURE_NEW_PROFILE, FALSE
      buildConfigField BOOLEAN, FEATURE_FOLLOW_USER_SEARCH, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, FALSE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDED_PLAYER_CONTEXT, FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, FALSE
      buildConfigField BOOLEAN, FEATURE_COLLECTIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_APPBOY, FALSE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, FALSE
    }

    debug {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, TRUE
      buildConfigField BOOLEAN, FEATURE_FOLLOW_USER_SEARCH, TRUE
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, TRUE
      buildConfigField BOOLEAN, FEATURE_STATIONS, TRUE
      buildConfigField BOOLEAN, FEATURE_NEW_PROFILE, TRUE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, TRUE
      buildConfigField BOOLEAN, FEATURE_APPBOY, TRUE
      buildConfigField BOOLEAN, FEATURE_COLLECTIONS, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, FALSE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDED_PLAYER_CONTEXT, FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, FALSE
    }

    end2end {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, TRUE
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, FALSE
      buildConfigField BOOLEAN, FEATURE_NEW_PROFILE, FALSE
      buildConfigField BOOLEAN, FEATURE_FOLLOW_USER_SEARCH, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, FALSE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDED_PLAYER_CONTEXT, FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, FALSE
      buildConfigField BOOLEAN, FEATURE_COLLECTIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_APPBOY, FALSE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, FALSE
    }

    release {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, FALSE
      buildConfigField BOOLEAN, FEATURE_NEW_PROFILE, FALSE
      buildConfigField BOOLEAN, FEATURE_FOLLOW_USER_SEARCH, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, FALSE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDED_PLAYER_CONTEXT, FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, FALSE
      buildConfigField BOOLEAN, FEATURE_COLLECTIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_APPBOY, FALSE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, FALSE
    }

    releaseNoProguard {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, FALSE
      buildConfigField BOOLEAN, FEATURE_NEW_PROFILE, FALSE
      buildConfigField BOOLEAN, FEATURE_FOLLOW_USER_SEARCH, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, FALSE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDED_PLAYER_CONTEXT, FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, FALSE
      buildConfigField BOOLEAN, FEATURE_COLLECTIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_APPBOY, FALSE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, FALSE
    }

    release_non_play_store {
      //Feature flags enabled
      buildConfigField BOOLEAN, FEATURE_PLAY_RELATED_TRACKS, TRUE

      //Feature flags disabled
      buildConfigField BOOLEAN, FEATURE_PAYMENTS_TEST, FALSE
      buildConfigField BOOLEAN, FEATURE_OFFLINE_SYNC, FALSE
      buildConfigField BOOLEAN, FEATURE_NEW_PROFILE, FALSE
      buildConfigField BOOLEAN, FEATURE_FOLLOW_USER_SEARCH, FALSE
      buildConfigField BOOLEAN, FEATURE_STATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDATIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_EVENTLOGGER_AUDIO_V1, FALSE
      buildConfigField BOOLEAN, FEATURE_RECOMMENDED_PLAYER_CONTEXT, FALSE
      buildConfigField BOOLEAN, FEATURE_KILL_CONCURRENT_STREAMING, FALSE
      buildConfigField BOOLEAN, FEATURE_COLLECTIONS, FALSE
      buildConfigField BOOLEAN, FEATURE_APPBOY, FALSE
      buildConfigField BOOLEAN, FEATURE_DAILY_POLICY_UPDATES, FALSE
    }
  }
}
